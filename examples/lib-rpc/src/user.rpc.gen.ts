// Auto-generated RPC types for User module
// Do not edit this file manually - it will be overwritten
//
// IMPORTANT: All types must be JSON-serializable for TCP transport when extracted to microservices

// User module types
/**
 * DTO for creating a new user
 */
export interface CreateUserDto {
/** The user's email address */
  email: string;
/** The user's first name */
  firstName: string;
/** The user's last name */
  lastName: string;
/** Whether the user account is active (defaults to true if not provided) */
  isActive: boolean;
}

/**
 * Query parameters for looking up multiple users by ID with field selection
 */
export interface LookupUsersQuery<Select extends UserSelect = UserSelect> {
/** Array of user IDs to look up */
  userIds: number[];
/** Field selection object specifying which fields to return */
  select: Select;
}

/**
 * Result of a lookup users query with selected fields
 */
export interface LookupUsersResult<Select extends UserSelect = UserSelect> {
/** Array of users with only the selected fields populated */
  users: Pick<
    User,
    Extract<{ [K in keyof Select]: Select[K] extends true ? K : never }[keyof Select], keyof User>
  >[];
}

/**
 * A user with their nested profile information.
 */
export interface UserWithProfile {
/** User ID */
  id: number;
/** User's email */
  email: string;
/** The user's profile (contains nested Date fields) */
  profile: UserProfile;
/** When the user account was created */
  createdAt: string;
}

/**
 * A User account in our system.
 */
export interface User {
/** Unique identifier for the user */
  id: number;
/** User's email address */
  email: string;
/** User's first name */
  firstName: string;
/** User's last name */
  lastName: string;
/** If this users account is currently active */
  isActive: boolean;
/** Timestamp when the user was created */
  createdAt: string;
/** Timestamp when the user was last updated */
  updatedAt: string;
}

export type UserSelect = {
  [K in keyof User]?: boolean;
}

/**
 * A user's profile with additional information.
 */
export interface UserProfile {
/** User's biography */
  bio: string;
/** User's avatar URL */
  avatarUrl: string;
/** When the profile was last updated */
  lastUpdated: string;
/** When the user last logged in */
  lastLoginAt: string;
}

// Domain interface for user module
export interface UserDomain {
/**
   * Create a new user.
   * @param createUserDto - The user payload to create.
   * @returns - The created user.
   */
  create(params: { createUserDto: CreateUserDto }): Promise<User>;
/**
   * Lookup multiple users by their IDs with field selection.
   * @param query - The lookup query containing user IDs and field selection
   * @returns An array of users with only the selected fields populated
   */
  lookupUsers<Select extends UserSelect>(params: { query: LookupUsersQuery<Select> }): Promise<LookupUsersResult<Select>>;
/**
   * Get a user with their profile (tests nested Date fields).
   * @param userId - The ID of the user to fetch
   * @returns The user with nested profile containing Date fields
   */
  getUserWithProfile(params: { userId: number }): Promise<UserWithProfile>;
}

// Type metadata for automatic codec transformation
// Maps type names to field -> codec name mappings
// Used by RPC client for transparent serialization (Date <-> string, etc.)
export const RpcTypeInfo = {
  UserProfile: {
    lastUpdated: 'Date',
    lastLoginAt: 'Date'
  },
  UserWithProfile: {
    createdAt: 'Date',
    profile: '@UserProfile'
  },
  User: {
    createdAt: 'Date',
    updatedAt: 'Date'
  }
} as const;

