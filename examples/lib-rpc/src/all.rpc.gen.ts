// Auto-generated RPC types from all modules
// Do not edit this file manually - it will be overwritten
//
// SERIALIZATION REQUIREMENTS:
// All @RpcMethod parameters and return types must be JSON-serializable for TCP transport.
// Avoid: functions, callbacks, Buffer, Map/Set, DOM elements, class instances, undefined
// Prefer: primitives, plain objects, arrays, null (instead of undefined), Date (auto-converted)

import { UserDomain, CreateUserDto, User, LookupUsersQuery, LookupUsersResult, UserSelect, UserWithProfile } from './user.rpc.gen';
import { AuthDomain, RegisterDto } from './auth.rpc.gen';
import { MessagingDomain, IncomingMessage, QueuedMessage } from './messaging.rpc.gen';
import { RpcTypeInfo as UserTypeInfo } from './user.rpc.gen';
import type { JsonValue } from 'type-fest';


// Re-export domain interfaces and types
export { UserDomain, CreateUserDto, User, LookupUsersQuery, LookupUsersResult, UserSelect, UserWithProfile } from './user.rpc.gen';
export { AuthDomain, RegisterDto } from './auth.rpc.gen';
export { MessagingDomain, IncomingMessage, QueuedMessage } from './messaging.rpc.gen';

// Re-export common types from their primary modules


// Type mapping for RPC methods and their signatures
export type AllRpcMethods = {
  'user.create': { params: { createUserDto: CreateUserDto }; returns: User };
  'user.lookupUsers': { params: { query: LookupUsersQuery<any> }; returns: LookupUsersResult<any> };
  'user.getUserWithProfile': { params: { userId: number }; returns: UserWithProfile };
  'auth.register': { params: { registerDto: RegisterDto }; returns: { accessToken: string; user: { id: string; email: string; }; } };
  'auth.getUserEmailsById': { params: { userIds: number[] }; returns: string[] };
  'messaging.queueMessage': { params: { message: IncomingMessage }; returns: QueuedMessage };
  'messaging.getQueueStatus': { params: {}; returns: { connected: boolean; service: string; queueLength: number; } };
  'messaging.storeMetadata': { params: { messageId: string; metadata: JsonValue }; returns: { messageId: string; metadata: JsonValue; } };
};


// Domain-scoped RPC client interface
export interface IRpcClient {
  user: UserDomain;
  auth: AuthDomain;
  messaging: MessagingDomain;
}

// Merged type metadata from all modules
export const RpcTypeInfo = {
  ...UserTypeInfo
} as const;

// Function metadata for RPC patterns
// Maps patterns to their parameter and return type names for codec transformation
export const RpcFunctionInfo = {
  'user.create': {
    params: {},
    returns: 'User'
  },
  'user.getUserWithProfile': {
    params: {},
    returns: 'UserWithProfile'
  }
} as const;

export type RpcFunctionInfoType = typeof RpcFunctionInfo;

// Usage examples:
// import { RpcTypeInfo, RpcFunctionInfo } from '@your-org/lib-rpc';
// import { createRpcClientProxy } from '@zdavison/nestjs-rpc-toolkit';
//
// const rpc = createRpcClientProxy(client, {
//   typeInfo: RpcTypeInfo,
//   functionInfo: RpcFunctionInfo,
// });
// const user = await rpc.user.create({ ... }); // Dates auto-converted
